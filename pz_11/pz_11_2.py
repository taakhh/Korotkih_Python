''' Из предложенного текстового файла (text18-14.txt) вывести на экран его содержимое,
количество пробельных символов. Сформировать новый файл, в который поместить текст
в стихотворной форме предварительно заменив символы третей строки их числовыми
кодами.'''
t = 0  # Счётчик строк
d = 0  # Счётчик пробельных символов

# Открываем файл для чтения и вывода содержимого
for i in open('text18-14.txt', encoding='UTF-8'):
    print(i, end='')  # Выводим содержимое файла на экран
    t += 1  # Считаем количество строк
    for j in i:
        if j.isspace():  # Проверяем, является ли символ пробельным
            d += 1  # Считаем пробельные символы

# Выводим количество строк и пробельных символов
print(end='\n')
print('Количество строк: ', t, end='\n')
print('Количество пробельных символов: ', d, end='\n')

# Обрабатываем файл для создания нового файла
f1 = open('text18-14.txt', encoding='UTF-8')
l = f1.readlines()  # Читаем все строки файла
f1.close()

# Заменяем символы третьей строки на их числовые коды
if len(l) >= 3:  # Проверяем, что файл содержит хотя бы три строки
    third_line = l[2].rstrip('\n')  # Убираем перенос строки в конце
    third_line_codes = []  # Создаем пустой список для хранения числовых кодов

    # Проходим по каждому символу в строке
    for char in third_line:
        code = ord(char)  # Получаем числовой код символа
        third_line_codes.append(str(code))  # Добавляем код в список как строку

    # Объединяем коды в строку, разделённую пробелами
    third_line_codes_str = ' '.join(third_line_codes)
    l[2] = third_line_codes_str + '\n'  # Обновляем третью строку

# Создаем новый файл с изменённым текстом
f2 = open('text18-2.txt', 'w', encoding='UTF-8')
f2.writelines(l)  # Записываем изменённые строки в новый файл
f2.close()
